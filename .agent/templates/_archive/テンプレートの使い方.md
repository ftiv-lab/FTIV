テンプレートの使い方
基本的な流れ

1. タスク初期化 → 2. Phase 1(設計) → 3. Phase 2(実装) → 4. Phase 3(レビュー) → 5. Phase 4(テスト)
Step 1: タスク初期化

python scripts/task_manager.py init "ノードのズーム機能"
これで .ftiv-task/TASK-001/ ディレクトリが作成されます。

Step 2: Phase 1 開始（Claude担当）

python scripts/task_manager.py start-phase 1
やること: phase_1_design.md を参考に設計書を埋める

具体例（セクションごと）:

セクション	記入内容
1. 要件整理	ユーザーの要求を具体的な機能仕様に変換
2. 影響範囲分析	変更するファイル一覧、依存関係、リスク
3. ADR	Option A vs B の比較と決定理由
4. 設計仕様書	クラス構造、メソッドシグネチャ、データフロー
5. テスト観点	正常系/異常系/エッジケースのテストケース
6. 実装手順	Geminiが迷わない粒度の具体的な指示
完了時:


python scripts/task_manager.py complete-phase
→ handoff_to_gemini.md が自動生成される

Step 3: Phase 2 開始（Gemini担当）

python scripts/task_manager.py start-phase 2
Geminiに渡すもの:


.ftiv-task/TASK-001/handoff_to_gemini.md
.ftiv-task/TASK-001/design_spec.md
やること: phase_2_implementation.md を参考に

Design Spec通りにコードを実装
Implementation Logに作業内容を記録
既存テストがパスするか確認
完了時:


python scripts/task_manager.py complete-phase
→ handoff_to_claude.md が自動生成される

Step 4: Phase 3 開始（Claude担当）

python scripts/task_manager.py start-phase 3
やること:

Geminiの実装をコードレビュー
SOLID原則・セキュリティチェック
必要なら修正・洗練
完了時:


python scripts/task_manager.py complete-phase
Step 5: Phase 4 開始（Gemini担当）

python scripts/task_manager.py start-phase 4
やること:

Phase 1のテスト観点を全てカバーするテスト作成
全テスト実行・パス確認
完了時:


python scripts/task_manager.py complete-task
→ タスクがアーカイブされて完了

現在の状態を確認したいとき

python scripts/task_manager.py status
設計に問題があって戻りたいとき

python scripts/task_manager.py rollback-phase