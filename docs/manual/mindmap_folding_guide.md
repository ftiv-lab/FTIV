# マインドマップ 折りたたみ機能 ユーザーガイド

FTIV マインドマップの「ノードの折りたたみ（展開）」機能について解説します。

## 1. 折りたたみボタンの場所

折りたたみボタン（＋ または － のマークがついた丸いボタン）は、**子ノードを持つノード**の特定の場所に表示されます。

*   **横書きレイアウト:** ノードの**右端**の少し外側
*   **縦書きレイアウト:** ノードの**下端**の少し外側

> **注意:** 子ノード（自分から線が伸びている先のノード）が一つも無いノードには、このボタンは表示されません。

## 2. 操作方法

1.  **マウスを合わせる (Hover):**
    ボタンの上にマウスカーソルを移動させると、ボタンの色が少し明るくなり、クリック可能であることを示します（カーソルが指の形になります）。

2.  **クリック (Click):**
    左クリックすると、子ノードの表示/非表示が切り替わります。
    *   **「－」マーク:** 現在展開されています。クリックすると折りたたみます（子ノードが隠れます）。
    *   **「＋」マーク:** 現在折りたたまれています。クリックすると展開します（子ノードが表示されます）。

## 3. トラブルシューティング

**Q. 子供がいるはずなのにボタンが表示されません**
*   **A1.** ノードを選択して少し動かしてみてください（表示位置が更新されます）。
*   **A2.** すべての線（エッジ）を一度削除し、再接続してみてください。
*   **A3.** 背景色が濃いため、ボタン（紺色）が見えにくくなっていませんか？ 明るい場所で確認してみてください。

**ボタンの仕様:**
*   色: 紺色 (`#444466`)
*   サイズ: 直径14ピクセル（比較的小さいです）
*   位置: ノード枠線のすぐ外側

---
**Technical Note (for Engineers):**
The button is implemented as a `MindMapFoldButton` (Child QGraphicsObject). It creates a "layer" above the node (Z-Value: 100).
