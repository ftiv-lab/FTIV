# FTIV コードベースドキュメント

このディレクトリには、"Future Text Interface View" (FTIV) アプリケーションのコードベースに関する、ファイル単位の高解像度ドキュメントが含まれています。これらのドキュメントは、開発者およびAIアシスタントのための包括的なリファレンスとして生成されました。

## ドキュメント一覧

### [01. Utils Package (ユーティリティ)](01_utils_details.md)
**基盤ユーティリティとインフラストラクチャ。**
*   **パス解決**: `paths.py` (プラットフォームに依存しないリソース/ログパス)。
*   **設定**: `settings.py`, `app_settings.py`, `overlay_settings.py` (PydanticモデルとJSON I/O)。
*   **ロギングとエラー処理**: `logger.py`, `error_reporter.py` (クラッシュレポート、ログローテーション)。
*   **国際化 (i18n)**: `translator.py` (JSONベースの翻訳システム)。
*   **コマンド**: `commands.py` (Undo/Redoコマンドパターンの実装)。

### [02. Models Package (モデル)](02_models_details.md)
**データ構造と列挙型。**
*   **列挙型**: `enums.py` (AnchorPosition, ArrowStyle, OffsetMode)。
*   **データクラス**: `hotkey_info.py` (ショートカット定義)。
*   **定数**: `constants.py` (デフォルト値、マジックナンバー)。

### [03. Managers Package (マネージャー)](03_managers_details.md)
**ビジネスロジックと状態管理の集約。**
*   **WindowManager**: `window_manager.py` (テキスト/画像/コネクタのCRUD、グループ化、親子関係ロジック)。
*   **FileManager**: `file_manager.py` (シーンの読み込み/保存、JSONシリアライズ)。
*   **StyleManager**: `style_manager.py` (テキストスタイルのプリセット、ギャラリー管理)。

### [04. UI Controllers Package (UIコントローラー)](04_ui_controllers_details.md)
**複雑なUIインタラクションのためのロジック分離。**
*   **アクション**: `image_actions.py`, `text_actions.py`, `connector_actions.py`, `scene_actions.py`, `layout_actions.py` (各機能のビジネスロジック)。
*   **イベント統括**: `main_controller.py` (シグナルルーティングと状態管理)。

### [05. UI Components Package (UIコンポーネント)](05_ui_components_details.md)
**再利用可能なUIウィジェットとダイアログ。**
*   **ダイアログ**: `dialogs.py` (テキスト入力、スタイルギャラリー、カラーピッカーラッパー)。
*   **プロパティパネル**: `property_panel.py` (選択されたオブジェクト用フローティングインスペクタ)。
*   **カスタムウィジェット**: `spinbox.py` (ドラッグ可能なスピンボックス), `color_button.py` (色プレビューボタン)。

### [06. Windows Package (ウィンドウ)](06_windows_details.md)
**コアとなるオーバーレイウィンドウの実装。**
*   **基底クラス**: `base_window.py` (共通のドラッグ、リサイズ、アニメーション、Undoロジック)。
*   **テキスト**: `text_window.py` (アウトライン/シャドウ付きリッチテキスト), `text_renderer.py` (高速なQPainterロジック)。
*   **画像**: `image_window.py` (画像表示、GIF/APNGアニメーション、変形)。
*   **コネクタ**: `connector.py` (ベジェ曲線と付属ラベル)。

### [07. Main Entry Package (メインエントリ)](07_main_entry_details.md)
**アプリケーションのエントリポイントと統括。**
*   **起動スクリプト**: `main.py` (ブートグラフ、ConfigGuardian による自己診断)。
*   **メインウィンドウ**: `ui/main_window.py` (中心ハブ、タブUI構築、シグナルルーティング)。

## 8. 開発標準と品質保証ツール

### [Antigravity 開発標準 (Reliability)](../RULES_AND_STANDARDS.md)
**「思い込みミス」を防ぎ、堅牢なリファクタリングを行うための行動指針。**

### 品質保証システム
[09. QA & Testing Documentation](09_qa_and_testing_details.md) を参照。
*   **整合性テスト**: `tests/test_ui_structure.py` (UIパーツの存在を保証)。
*   **参照監査**: `tools/check_ui_refs.py` (MainWindowへの不適切なアクセスを検知)。
*   **自己診断**: `managers/config_guardian.py` (設定ファイルの自動修復)。
*   **一括検証**: `verify_all.bat` (Linter, Audit, Tests の一括実行)。

---
*Generated by Antigravity Agent v4.0*
